import{r as x,c as d,o as k,a as l,b as r,g as p,e as i,f as C,n as f,F as v,i as h,j as T,k as o,t as $}from"./index-B9iqHgVa.js";import{u as M}from"./trip-DgsSimI1.js";import{_ as S}from"./TripCard-DxzpwFM5.js";import{_ as B}from"./LoadingSpinner-Oft2iDVO.js";import{_ as D}from"./EmptyState-667vxpza.js";import{R as N}from"./refresh-cw-DuPc5Fko.js";import{M as V}from"./map-pin-CzWHnWjP.js";import"./StatusBadge-BehgSXDK.js";import"./circle-x-DSeMD-qA.js";import"./createLucideIcon-CT7AaelC.js";import"./circle-alert-B5MurPCj.js";import"./package-DxfX8KQ-.js";import"./users-PwlVkRJR.js";import"./navigation-BxTxS7dP.js";import"./truck-CScI_HEv.js";import"./format-BFuVVRWF.js";import"./en-US-DL7QEam1.js";import"./parseISO-9qduH5JA.js";const F={class:"space-y-6"},R={class:"flex items-center justify-between"},Y=["disabled"],j={class:"card p-2 flex space-x-2"},A=["onClick"],L={key:1,class:"space-y-4"},re={__name:"TripManagement",setup(z){const c=T(),t=M(),n=x("upcoming"),g=[{label:"Upcoming",value:"upcoming"},{label:"Active",value:"active"},{label:"Completed",value:"completed"}],u=d(()=>{const s=new Date;switch(n.value){case"upcoming":return t.trips.filter(e=>new Date(e.start_time)>s&&e.status!=="Completed");case"active":return t.trips.filter(e=>e.status==="Active");case"completed":return t.trips.filter(e=>e.status==="Completed");default:return t.trips}}),_=d(()=>{switch(n.value){case"upcoming":return"You have no upcoming trips scheduled.";case"active":return"You have no active trips at the moment.";case"completed":return"You have no completed trips yet.";default:return"No trips found."}});async function m(){await t.fetchDashboard()}function y(s){c.push(`/driver/trips/${s.name}?action=start`)}function b(s){c.push(`/driver/trips/${s.name}?action=complete`)}function w(s){c.push(`/driver/trips/${s.name}`)}return k(async()=>{await m()}),(s,e)=>(o(),l("div",F,[r("div",R,[e[0]||(e[0]=r("h1",{class:"text-2xl font-bold text-gray-900"},"My Trips",-1)),r("button",{onClick:m,class:"p-2 rounded-lg hover:bg-gray-100 transition-colors",disabled:i(t).loading},[C(i(N),{class:f(["w-5 h-5 text-gray-600",i(t).loading&&"animate-spin"])},null,8,["class"])],8,Y)]),r("div",j,[(o(),l(v,null,h(g,a=>r("button",{key:a.value,onClick:E=>n.value=a.value,class:f(["flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-all",n.value===a.value?"bg-primary-500 text-white shadow-sm":"text-gray-600 hover:bg-gray-50"])},$(a.label),11,A)),64))]),i(t).loading?(o(),p(B,{key:0,message:"Loading trips..."})):u.value.length>0?(o(),l("div",L,[(o(!0),l(v,null,h(u.value,a=>(o(),p(S,{key:a.name,trip:a,"show-actions":!0,onStart:y,onComplete:b,onView:w},null,8,["trip"]))),128))])):(o(),p(D,{key:2,icon:i(V),title:"No trips found",message:_.value},null,8,["icon","message"]))]))}};export{re as default};
//# sourceMappingURL=TripManagement-DMQaJsN3.js.map
