const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AppLayout-C2kCkTiz.js","assets/vue-vendor-DZCHTKbu.js","assets/AppBottomNav-B5HUDKMz.js","assets/createLucideIcon-DKFW70or.js","assets/useGeolocation-DJ1lddfZ.js","assets/incident-BAHg3IjT.js","assets/Modal-DwaEz8Eo.js","assets/x-C_bmcVty.js","assets/Modal-B5HOa8Qv.css","assets/Toast-JpXfgtnh.js","assets/info-D99820rI.js","assets/triangle-alert-C_EpRYfh.js","assets/circle-x-BGVxR7ZG.js","assets/Toast-7HhulXl4.css","assets/circle-alert-CDl0sScR.js","assets/map-pin-C3h0nU1j.js","assets/user-BIo5MDMJ.js","assets/AppLayout--9v9lpZr.css","assets/Dashboard-DSqPngJz.js","assets/trip-FwRjcpOd.js","assets/TripCard-CjLxzP50.js","assets/StatusBadge-DxCBOwct.js","assets/package-DFPrWytG.js","assets/users-UNghsrFc.js","assets/navigation-C6cNIsDv.js","assets/truck-DIR7Sag3.js","assets/utils-DGK9-2WQ.js","assets/LoadingSpinner-WtCRcdU3.js","assets/EmptyState-iU_DxD5K.js","assets/credit-card-CDmtBGgx.js","assets/clipboard-check-CfdfeLM9.js","assets/fuel-C9GWvhQU.js","assets/chevron-right-KEucnSx6.js","assets/TripManagement-BqXpvOD7.js","assets/refresh-cw-3IiPAuFB.js","assets/TripDetails-BvIL3FT-.js","assets/vehicle-8ggj95tC.js","assets/file-text-Djkg9_Fd.js","assets/CargoManagement-VbuEfS_8.js","assets/scan-BfeKGsOY.js","assets/square-pen-BU52uAhK.js","assets/PassengerManagement-RTGkPX_y.js","assets/VehicleInspection-D4X75dpP.js","assets/CameraModal-DegDuRgw.js","assets/IncidentReport-CtkTR6on.js","assets/FuelLog-tw942EjQ.js","assets/Communication-Bah9yEI1.js","assets/communication-BHJNC2aJ.js","assets/Notifications-_qBUMU0S.js","assets/Notifications-BP0y8EmO.css","assets/Profile-D9wlwdvr.js","assets/Settings-Bi64nMMz.js"])))=>i.map(i=>d[i]);
import{l as P,r as v,c as C,K as b,o as k,f as A,e as L,w as M,L as x,D as U,j as _,a as S,F,h as N,u as $,n as V,b as w,d as j,t as W,s as z,m as B,M as H,N as X,g as J,O as K,P as Q}from"./vue-vendor-DZCHTKbu.js";import{r as G,g as Y}from"./utils-DGK9-2WQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const Z="modulepreload",ee=function(i){return"/assets/tems/frontend/driver-pwa/dist/"+i},D={},y=function(t,e,r){let n=Promise.resolve();if(e&&e.length>0){let c=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=c(e.map(u=>{if(u=ee(u),u in D)return;D[u]=!0;const l=u.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":Z,l||(p.as="script"),p.crossOrigin="",p.href=u,a&&p.setAttribute("nonce",a),document.head.appendChild(p),l)return new Promise((d,g)=>{p.addEventListener("load",d),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var te=G();const I=Y(te);class ne{constructor(){this.baseURL=window.location.origin,this.isOnline=navigator.onLine,this.retryAttempts=3,this.retryDelay=1e3,this.offlineStore=I.createInstance({name:"tems_offline"}),this.queueStore=I.createInstance({name:"tems_queue"}),window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineData()}),window.addEventListener("offline",()=>{this.isOnline=!1})}async call(t,e={},r=!1){const n=`${this.baseURL}/api/method/${t}`,s=`rpc:${t}:${JSON.stringify(e)}`;try{const o=await this.fetchWithRetry(n,{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(e)});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.message||`HTTP error! status: ${o.status}`)}const a=await o.json();return r&&a.message&&await this.offlineStore.setItem(s,{data:a.message,timestamp:Date.now()}),a.message}catch(o){if(!this.isOnline)return this.handleOfflineRequest(s);throw o}}async getDoc(t,e){const r=`${this.baseURL}/api/resource/${t}/${e}`,n=`${t}:${e}`;try{const s=await this.fetchWithRetry(r,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const o=await s.json();return await this.offlineStore.setItem(n,{data:o.data,timestamp:Date.now()}),o.data}catch(s){if(!this.isOnline){const o=await this.offlineStore.getItem(n);if(o)return o.data}throw s}}async getList(t,e=["name"],r={},n=20,s="modified desc"){const o=`${this.baseURL}/api/resource/${t}`,a=new URLSearchParams({fields:JSON.stringify(e),filters:JSON.stringify(r),limit_page_length:n,order_by:s}),c=`list:${t}:${JSON.stringify(r)}:${n}`;try{const u=await this.fetchWithRetry(`${o}?${a}`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const l=await u.json();return await this.offlineStore.setItem(c,{data:l.data,timestamp:Date.now()}),l.data}catch(u){if(!this.isOnline){const l=await this.offlineStore.getItem(c);if(l)return l.data}throw u}}async setDoc(t,e,r){if(!this.isOnline)return this.queueOfflineWrite(t,e,r,"update");const n=`${this.baseURL}/api/resource/${t}/${e}`,s=await this.fetchWithRetry(n,{method:"PUT",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(r)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const o=await s.json();return await this.offlineStore.setItem(`${t}:${e}`,{data:o.data,timestamp:Date.now()}),o.data}async createDoc(t,e){if(!this.isOnline)return this.queueOfflineWrite(t,null,e,"create");const r=`${this.baseURL}/api/resource/${t}`,n=await this.fetchWithRetry(r,{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(e)});if(!n.ok){const s=await n.json().catch(()=>({}));throw new Error(s.message||"Failed to create document")}return await n.json()}async deleteDoc(t,e){if(!this.isOnline)return this.queueOfflineWrite(t,e,{},"delete");const r=`${this.baseURL}/api/resource/${t}/${e}`;if(!(await fetch(r,{method:"DELETE",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include"})).ok)throw new Error("Failed to delete document");await this.offlineStore.removeItem(`${t}:${e}`)}async uploadFile(t,e=!1,r="Home",n=null,s=null){const o=new FormData;o.append("file",t),o.append("is_private",e?1:0),o.append("folder",r),n&&o.append("doctype",n),s&&o.append("docname",s);const a=await fetch(`${this.baseURL}/api/method/upload_file`,{method:"POST",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:o});if(!a.ok)throw new Error("Upload failed");return(await a.json()).message}async fetchWithRetry(t,e,r=1){try{return await fetch(t,e)}catch(n){if(r<this.retryAttempts&&this.isOnline)return await this.delay(this.retryDelay*r),this.fetchWithRetry(t,e,r+1);throw n}}getCSRFToken(){return document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||document.cookie.split("; ").find(t=>t.startsWith("csrf_token="))?.split("=")[1]||""}async queueOfflineWrite(t,e,r,n="update"){const s=await this.queueStore.getItem("write_queue")||[],o={id:`${Date.now()}_${Math.random()}`,doctype:t,name:e,data:r,action:n,timestamp:Date.now()};return s.push(o),await this.queueStore.setItem("write_queue",s),{queued:!0,offline:!0,queueId:o.id,message:"Saved offline. Will sync when online."}}async syncOfflineData(){const t=await this.queueStore.getItem("write_queue")||[];if(t.length===0)return{synced:0,failed:[]};const e={synced:0,failed:[]};for(const r of t)try{r.action==="create"?await this.createDoc(r.doctype,r.data):r.action==="update"?await this.setDoc(r.doctype,r.name,r.data):r.action==="delete"&&await this.deleteDoc(r.doctype,r.name),e.synced++}catch(n){console.error("Sync failed for item:",r,n),e.failed.push({item:r,error:n.message})}return e.failed.length===0?await this.queueStore.setItem("write_queue",[]):await this.queueStore.setItem("write_queue",e.failed.map(r=>r.item)),e}async getPendingQueueCount(){return(await this.queueStore.getItem("write_queue")||[]).length}async handleOfflineRequest(t){const e=await this.offlineStore.getItem(t);return e?e.data:{offline:!0,error:"No cached data available",message:"You are offline and this data is not cached"}}async clearCache(){await this.offlineStore.clear(),await this.queueStore.clear()}delay(t){return new Promise(e=>setTimeout(e,t))}async isAuthenticated(){try{const t=await fetch(`${this.baseURL}/api/method/frappe.auth.get_logged_user`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!t.ok)return!1;const e=await t.json();return e.message&&e.message!=="Guest"}catch{return!1}}async getCurrentUser(){try{const t=await fetch(`${this.baseURL}/api/method/frappe.auth.get_logged_user`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!t.ok)return null;const e=await t.json();return e.message!=="Guest"?e.message:null}catch{return null}}}const T=new ne,re=P("auth",()=>{const i=v(null),t=v(null),e=v([]),r=v([]),n=v(!1),s=v(null),o=C(()=>!!i.value),a=C(()=>t.value?.employee_name||i.value?.full_name||"User"),c=C(()=>a.value.split(" ").map(m=>m[0]).slice(0,2).join("").toUpperCase());async function u(){n.value=!0,s.value=null;try{const h=await T.getCurrentUser();if(!h||h==="Guest")throw new Error("Not authenticated");const m=await T.getDoc("User",h);if(i.value=m,r.value=m.roles?.map(R=>R.role)||[],m.name)try{const R=await T.getList("Employee",["name","employee_name","designation","image","department","cell_number"],[["user_id","=",m.name]],1);R&&R.length>0&&(t.value=R[0])}catch(R){console.warn("Employee not found for user:",R)}return m}catch(h){throw s.value=h.message,console.error("Failed to fetch user info:",h),h}finally{n.value=!1}}function l(h){return r.value.includes(h)}function f(h){return h.some(m=>r.value.includes(m))}function p(h,m="read"){return!0}async function d(){try{await T.call("logout"),i.value=null,t.value=null,e.value=[],r.value=[],window.location.href="/login"}catch(h){console.error("Logout failed:",h),s.value=h.message}}function g(){i.value=null,t.value=null,e.value=[],r.value=[],s.value=null}return{user:i,employee:t,permissions:e,roles:r,loading:n,error:s,isAuthenticated:o,userName:a,userInitials:c,fetchUserInfo:u,hasRole:l,hasAnyRole:f,hasPermission:p,logout:d,clearAuth:g}});function oe(){const i=re(),{user:t,employee:e,isAuthenticated:r,userName:n,userInitials:s,roles:o,loading:a,error:c}=b(i);return{user:t,employee:e,isAuthenticated:r,userName:n,userInitials:s,roles:o,loading:a,error:c,fetchUserInfo:i.fetchUserInfo,hasRole:i.hasRole,hasAnyRole:i.hasAnyRole,hasPermission:i.hasPermission,logout:i.logout,clearAuth:i.clearAuth}}const se=P("offline",()=>{const i=v(navigator.onLine),t=v(!1),e=v(null),r=v(0),n=v([]),s=C(()=>t.value),o=C(()=>r.value>0),a=C(()=>{if(!e.value)return"Never";const d=Date.now()-e.value,g=Math.floor(d/6e4);if(g<1)return"Just now";if(g===1)return"1 minute ago";if(g<60)return`${g} minutes ago`;const h=Math.floor(g/60);if(h===1)return"1 hour ago";if(h<24)return`${h} hours ago`;const m=Math.floor(h/24);return m===1?"1 day ago":`${m} days ago`});function c(){window.addEventListener("online",()=>{i.value=!0,l()}),window.addEventListener("offline",()=>{i.value=!1}),u(),setInterval(()=>{i.value&&!t.value&&l()},300*1e3)}async function u(){try{r.value=await T.getPendingQueueCount()}catch(d){console.error("Failed to update queue count:",d)}}async function l(){if(!(t.value||!i.value)){t.value=!0,n.value=[];try{const d=await T.syncOfflineData();return d.synced>0&&(console.log(`Synced ${d.synced} offline changes`),e.value=Date.now()),d.failed&&d.failed.length>0&&(n.value=d.failed,console.error("Some items failed to sync:",d.failed)),await u(),d}catch(d){console.error("Sync failed:",d),n.value.push({error:d.message})}finally{t.value=!1}}}async function f(){try{await T.clearCache(),r.value=0,n.value=[],e.value=null}catch(d){throw console.error("Failed to clear offline data:",d),d}}async function p(){return l()}return{isOnline:i,syncInProgress:t,lastSyncTime:e,queueCount:r,syncErrors:n,isSyncing:s,hasPendingChanges:o,lastSyncFormatted:a,init:c,updateQueueCount:u,syncOfflineData:l,clearOfflineData:f,retryFailed:p}});function ae(i={}){const{autoInit:t=!1}=i,e=se(),{isOnline:r,syncInProgress:n,lastSyncTime:s,queueCount:o,syncErrors:a,isSyncing:c,hasPendingChanges:u,lastSyncFormatted:l}=b(e);return t&&k(()=>{e.init()}),{isOnline:r,syncInProgress:n,lastSyncTime:s,queueCount:o,syncErrors:a,isSyncing:c,hasPendingChanges:u,lastSyncFormatted:l,init:e.init,sync:e.syncOfflineData,updateQueueCount:e.updateQueueCount,clearCache:e.clearOfflineData,retryFailed:e.retryFailed}}const E=v([]);let ie=0;function le(){const i=C(()=>E.value);function t(l,f="info",p=3e3){const d=ie++,g={id:d,message:l,type:f,visible:!0,timestamp:Date.now()};return E.value.push(g),p>0&&setTimeout(()=>{e(d)},p),d}function e(l){const f=E.value.findIndex(p=>p.id===l);f>-1&&E.value.splice(f,1)}function r(){E.value=[]}function n(l,f=3e3){return t(l,"success",f)}function s(l,f=5e3){return t(l,"error",f)}function o(l,f=4e3){return t(l,"warning",f)}function a(l,f=3e3){return t(l,"info",f)}function c(l="Loading..."){return t(l,"info",0)}async function u(l,f={}){const{loading:p="Loading...",success:d="Success!",error:g="Error occurred"}=f,h=t(p,"info",0);try{const m=await l;return e(h),n(d),m}catch(m){throw e(h),s(g+(m.message?`: ${m.message}`:"")),m}}return{toasts:i,show:t,dismiss:e,dismissAll:r,success:n,error:s,warning:o,info:a,loading:c,promise:u}}const ce=(i,t)=>{const e=i.__vccOpts||i;for(const[r,n]of t)e[r]=n;return e},ue=["onClick"],de={class:"flex items-start space-x-3 p-4"},fe={class:"flex-shrink-0"},he={key:0,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},pe={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},me={key:2,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},ge={key:3,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},ye={class:"flex-1 pt-0.5"},we={class:"text-sm font-medium"},ve=["onClick"],_e={key:0,class:"h-1 bg-white bg-opacity-30 rounded-b"},Se={__name:"Toast",setup(i){const{toasts:t,dismiss:e}=le();function r(o){const a=["rounded-lg shadow-lg max-w-sm w-full transform transition-all duration-300 cursor-pointer","hover:scale-105"],c={success:"bg-green-600 text-white",error:"bg-red-600 text-white",warning:"bg-yellow-500 text-gray-900",info:"bg-blue-600 text-white"};return[...a,c[o.type]||c.info].join(" ")}function n(o){e(o)}function s(o){const c=Date.now()-o.timestamp,u=o.duration||3e3;return Math.max(0,u-c)/u*100}return(o,a)=>(_(),A(U,{to:"body"},[L(x,{name:"toast",tag:"div",class:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none"},{default:M(()=>[(_(!0),S(F,null,N($(t),c=>(_(),S("div",{key:c.id,class:V([r(c),"pointer-events-auto"]),onClick:u=>n(c.id)},[w("div",de,[w("div",fe,[c.type==="success"?(_(),S("svg",he,[...a[0]||(a[0]=[w("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):c.type==="error"?(_(),S("svg",pe,[...a[1]||(a[1]=[w("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])):c.type==="warning"?(_(),S("svg",me,[...a[2]||(a[2]=[w("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])])):(_(),S("svg",ge,[...a[3]||(a[3]=[w("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])]))]),w("div",ye,[w("p",we,W(c.message),1)]),w("button",{type:"button",onClick:z(u=>n(c.id),["stop"]),class:"flex-shrink-0 text-current opacity-70 hover:opacity-100 transition-opacity"},[...a[4]||(a[4]=[w("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[w("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,ve)]),c.duration>0?(_(),S("div",_e,[w("div",{class:"h-full bg-white bg-opacity-50 rounded-b transition-all",style:B({width:s(c)+"%"})},null,4)])):j("",!0)],10,ue))),128))]),_:1})]))}},Re=ce(Se,[["__scopeId","data-v-e932529d"]]),Te=[{path:"/driver",component:()=>y(()=>import("./AppLayout-C2kCkTiz.js").then(i=>i.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17])),meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:()=>y(()=>import("./Dashboard-DSqPngJz.js"),__vite__mapDeps([18,1,19,20,21,12,3,14,22,23,24,15,25,26,27,28,16,29,30,11,31,32])),meta:{title:"Dashboard",icon:"Home"}},{path:"trips",name:"TripManagement",component:()=>y(()=>import("./TripManagement-BqXpvOD7.js"),__vite__mapDeps([33,1,19,20,21,12,3,14,22,23,24,15,25,26,27,28,34])),meta:{title:"My Trips",icon:"Route"}},{path:"trips/:id",name:"TripDetails",component:()=>y(()=>import("./TripDetails-BvIL3FT-.js"),__vite__mapDeps([35,1,0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,27,21,26,19,36,34,32,25,30,31,24,37])),meta:{title:"Trip Details"}},{path:"trips/:id/cargo",name:"CargoManagement",component:()=>y(()=>import("./CargoManagement-VbuEfS_8.js"),__vite__mapDeps([38,1,4,27,28,3,21,12,14,6,7,8,9,10,11,13,39,22,40,26])),meta:{title:"Cargo Management"}},{path:"trips/:id/passengers",name:"PassengerManagement",component:()=>y(()=>import("./PassengerManagement-RTGkPX_y.js"),__vite__mapDeps([41,1,27,28,3,21,12,14,6,7,8,9,10,11,13,39,23,26])),meta:{title:"Passenger Management"}},{path:"inspection",name:"VehicleInspection",component:()=>y(()=>import("./VehicleInspection-D4X75dpP.js"),__vite__mapDeps([42,1,36,43,6,7,3,8,34,27,25,32,26])),meta:{title:"Vehicle Inspection",icon:"Clipboard"}},{path:"incident",name:"IncidentReport",component:()=>y(()=>import("./IncidentReport-CtkTR6on.js"),__vite__mapDeps([44,1,5,4,43,6,7,3,8,34,15,26])),meta:{title:"Report Incident",icon:"AlertTriangle"}},{path:"fuel",name:"FuelLog",component:()=>y(()=>import("./FuelLog-tw942EjQ.js"),__vite__mapDeps([45,1,4,9,10,3,11,12,7,13,43,6,8,34,31,15,26])),meta:{title:"Log Fuel",icon:"Fuel"}},{path:"messages",name:"Communication",component:()=>y(()=>import("./Communication-Bah9yEI1.js"),__vite__mapDeps([46,1,47,27,28,3,26])),meta:{title:"Messages",icon:"MessageCircle"}},{path:"notifications",name:"Notifications",component:()=>y(()=>import("./Notifications-_qBUMU0S.js"),__vite__mapDeps([48,47,1,27,28,3,34,37,25,23,22,11,10,26,49])),meta:{title:"Notifications",icon:"Bell"}},{path:"profile",name:"Profile",component:()=>y(()=>import("./Profile-D9wlwdvr.js"),__vite__mapDeps([50,19,1,21,12,3,14,29,37,40,26])),meta:{title:"My Profile",icon:"User"}},{path:"settings",name:"Settings",component:()=>y(()=>import("./Settings-Bi64nMMz.js").then(i=>i.S),__vite__mapDeps([51,1,21,12,3,14,9,10,11,7,13,34,26])),meta:{title:"Settings",icon:"Settings"}}]}],q=H({history:X(),routes:Te});q.beforeEach(async(i,t,e)=>{const r=oe();if(i.meta.requiresAuth&&!r.isAuthenticated)try{await r.fetchUserInfo(),e()}catch{window.location.href="/login?redirect="+encodeURIComponent(i.fullPath)}else e()});const Ce={__name:"App",setup(i){const t=ae({autoInit:!1});return k(()=>{t.init()}),(e,r)=>{const n=J("RouterView");return _(),S(F,null,[L(n),L($(Re))],64)}}},O=K(Ce),Ee=Q();O.use(Ee);O.use(q);O.mount("#app");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/driver/sw.js")});export{Re as T,ce as _,ae as a,le as b,re as c,se as d,y as e,T as f,oe as u};
//# sourceMappingURL=index-Dsp_1qOu.js.map
