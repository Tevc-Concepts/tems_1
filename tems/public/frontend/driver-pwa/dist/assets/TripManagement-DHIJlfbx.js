import{r as x,k as d,l as k,c as l,a as r,p,m as i,h as C,n as f,F as v,q as h,u as T,o,t as $}from"./vue-vendor-85nDNI24.js";import{u as M}from"./trip-C6EWYD5d.js";import{_ as S}from"./TripCard-DuyOCdnh.js";import{_ as B}from"./LoadingSpinner-BQrI8T8P.js";import{_ as D}from"./EmptyState-Ws_K2wgV.js";import{R as N}from"./refresh-cw-BAKKBxtm.js";import{M as V}from"./map-pin-pIZ_tXSm.js";import"./index-CvUSgFKw.js";import"./utils-DGK9-2WQ.js";import"./StatusBadge-q7HUT-w6.js";import"./circle-x-RwOzPd3h.js";import"./createLucideIcon-TnRFscOj.js";import"./package-BrCQSYfT.js";import"./users-BMsH5R0H.js";import"./navigation-BNa_ULIU.js";import"./truck-iOzUoDvC.js";const F={class:"space-y-6"},R={class:"flex items-center justify-between"},Y=["disabled"],A={class:"card p-2 flex space-x-2"},L=["onClick"],j={key:1,class:"space-y-4"},ae={__name:"TripManagement",setup(q){const c=T(),t=M(),n=x("upcoming"),g=[{label:"Upcoming",value:"upcoming"},{label:"Active",value:"active"},{label:"Completed",value:"completed"}],u=d(()=>{const s=new Date;switch(n.value){case"upcoming":return t.trips.filter(e=>new Date(e.start_time)>s&&e.status!=="Completed");case"active":return t.trips.filter(e=>e.status==="Active");case"completed":return t.trips.filter(e=>e.status==="Completed");default:return t.trips}}),_=d(()=>{switch(n.value){case"upcoming":return"You have no upcoming trips scheduled.";case"active":return"You have no active trips at the moment.";case"completed":return"You have no completed trips yet.";default:return"No trips found."}});async function m(){await t.fetchDashboard()}function y(s){c.push(`/driver/trips/${s.name}?action=start`)}function w(s){c.push(`/driver/trips/${s.name}?action=complete`)}function b(s){c.push(`/driver/trips/${s.name}`)}return k(async()=>{await m()}),(s,e)=>(o(),l("div",F,[r("div",R,[e[0]||(e[0]=r("h1",{class:"text-2xl font-bold text-gray-900"},"My Trips",-1)),r("button",{onClick:m,class:"p-2 rounded-lg hover:bg-gray-100 transition-colors",disabled:i(t).loading},[C(i(N),{class:f(["w-5 h-5 text-gray-600",i(t).loading&&"animate-spin"])},null,8,["class"])],8,Y)]),r("div",A,[(o(),l(v,null,h(g,a=>r("button",{key:a.value,onClick:z=>n.value=a.value,class:f(["flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-all",n.value===a.value?"bg-primary-500 text-white shadow-sm":"text-gray-600 hover:bg-gray-50"])},$(a.label),11,L)),64))]),i(t).loading?(o(),p(B,{key:0,message:"Loading trips..."})):u.value.length>0?(o(),l("div",j,[(o(!0),l(v,null,h(u.value,a=>(o(),p(S,{key:a.name,trip:a,"show-actions":!0,onStart:y,onComplete:w,onView:b},null,8,["trip"]))),128))])):(o(),p(D,{key:2,icon:i(V),title:"No trips found",message:_.value},null,8,["icon","message"]))]))}};export{ae as default};
//# sourceMappingURL=TripManagement-DHIJlfbx.js.map
