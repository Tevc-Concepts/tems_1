{"version":3,"file":"VehicleInspection-yc4nEyXM.js","sources":["../../../../../../frontend/driver-pwa/src/components/inspection/SpotCheckForm.vue","../../../../../../frontend/driver-pwa/src/views/VehicleInspection.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"submitForm\" class=\"bg-white rounded-xl shadow-card p-4 space-y-4\">\n    <h2 class=\"text-lg font-bold text-gray-800\">Vehicle Spot Check</h2>\n\n    <!-- Checklist Items -->\n    <div class=\"space-y-2\">\n      <div v-for=\"item in checklistItems\" :key=\"item.id\" class=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n        <span class=\"text-sm font-medium\">{{ item.label }}</span>\n        <input\n          type=\"checkbox\"\n          v-model=\"form.checklist[item.id]\"\n          class=\"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500\"\n        />\n      </div>\n    </div>\n\n    <!-- Notes -->\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Additional Notes</label>\n      <textarea\n        v-model=\"form.notes\"\n        rows=\"3\"\n        class=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        placeholder=\"Any issues or observations...\"\n      ></textarea>\n    </div>\n\n    <!-- Photos -->\n    <div>\n      <label class=\"block text-sm font-medium text-gray-700 mb-2\">Photos</label>\n      <button\n        type=\"button\"\n        @click=\"takePhoto\"\n        class=\"w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 flex items-center justify-center\"\n      >\n        <Camera class=\"w-5 h-5 mr-2\" />\n        Take Photo\n      </button>\n      <div v-if=\"form.photos.length\" class=\"mt-2 grid grid-cols-3 gap-2\">\n        <img\n          v-for=\"(photo, index) in form.photos\"\n          :key=\"index\"\n          :src=\"photo\"\n          alt=\"Inspection photo\"\n          class=\"w-full h-20 object-cover rounded-lg\"\n        />\n      </div>\n    </div>\n\n    <!-- Submit -->\n    <button\n      type=\"submit\"\n      class=\"w-full py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition\"\n    >\n      Submit Inspection\n    </button>\n\n    <CameraModal\n      v-if=\"showCamera\"\n      @close=\"showCamera = false\"\n      @capture=\"handlePhotoCapture\"\n    />\n  </form>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { Camera } from 'lucide-vue-next'\nimport CameraModal from '@/components/common/CameraModal.vue'\n\nconst emit = defineEmits(['submit'])\n\nconst showCamera = ref(false)\n\nconst checklistItems = [\n  { id: 'tires', label: 'Tire Condition' },\n  { id: 'lights', label: 'Lights Functional' },\n  { id: 'brakes', label: 'Brakes Working' },\n  { id: 'fluids', label: 'Fluid Levels OK' },\n  { id: 'mirrors', label: 'Mirrors Adjusted' },\n  { id: 'wipers', label: 'Wipers Working' },\n  { id: 'horn', label: 'Horn Functional' },\n  { id: 'seatbelts', label: 'Seatbelts OK' },\n]\n\nconst form = ref({\n  checklist: {},\n  notes: '',\n  photos: [],\n})\n\nconst takePhoto = () => {\n  showCamera.value = true\n}\n\nconst handlePhotoCapture = (photo) => {\n  form.value.photos.push(photo.dataUrl)\n  showCamera.value = false\n}\n\nconst submitForm = () => {\n  emit('submit', form.value)\n}\n</script>\n","<template>\n  <div class=\"space-y-6\">\n    <div class=\"flex items-center justify-between\">\n      <h1 class=\"text-2xl font-bold text-gray-900\">Vehicle Inspection</h1>\n    </div>\n\n    <!-- Vehicle Selection -->\n    <div v-if=\"!selectedVehicle\" class=\"card p-4\">\n      <h3 class=\"section-title\">Select Vehicle</h3>\n      <LoadingSpinner v-if=\"vehicleStore.loading\" />\n      \n      <div v-else class=\"space-y-3\">\n        <button\n          v-for=\"vehicle in vehicleStore.assignedVehicles\"\n          :key=\"vehicle.name\"\n          @click=\"selectVehicle(vehicle)\"\n          class=\"w-full p-4 border-2 border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left\"\n        >\n          <div class=\"flex items-center space-x-4\">\n            <div class=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n              <Truck class=\"w-6 h-6 text-gray-600\" />\n            </div>\n            <div class=\"flex-1\">\n              <p class=\"font-semibold text-gray-900\">{{ vehicle.license_plate }}</p>\n              <p class=\"text-sm text-gray-600\">\n                {{ vehicle.make }} {{ vehicle.model }}\n              </p>\n            </div>\n            <ChevronRight class=\"w-5 h-5 text-gray-400\" />\n          </div>\n        </button>\n      </div>\n    </div>\n\n    <!-- Inspection Form -->\n    <SpotCheckForm\n      v-else\n      :vehicle=\"selectedVehicle\"\n      @cancel=\"selectedVehicle = null\"\n      @submit=\"handleSubmitInspection\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { Truck, ChevronRight } from 'lucide-vue-next'\nimport { useVehicleStore } from '@/stores/vehicle'\nimport { useNotifications } from '@/composables/useNotifications'\nimport SpotCheckForm from '@/components/inspection/SpotCheckForm.vue'\nimport LoadingSpinner from '@/components/common/LoadingSpinner.vue'\n\nconst route = useRoute()\nconst router = useRouter()\nconst vehicleStore = useVehicleStore()\nconst { showSuccess } = useNotification()\n\nconst selectedVehicle = ref(null)\n\nfunction selectVehicle(vehicle) {\n  selectedVehicle.value = vehicle\n  vehicleStore.setCurrentVehicle(vehicle)\n}\n\nasync function handleSubmitInspection(result) {\n  showSuccess('Inspection submitted successfully')\n  selectedVehicle.value = null\n  router.push('/driver')\n}\n\nonMounted(async () => {\n  await vehicleStore.fetchMyVehicles()\n  \n  // Auto-select if vehicle in query\n  if (route.query.vehicle) {\n    const vehicle = vehicle = vehicleStore.assignedVehicles.find(v => v.name === route.query.vehicle)\n    if (vehicle) {\n      selectVehicle(vehicle)\n    }\n  }\n})\n</script>"],"names":["emit","__emit","showCamera","ref","checklistItems","form","takePhoto","handlePhotoCapture","photo","submitForm","_createElementBlock","_cache","_createElementVNode","_hoisted_1","_Fragment","_renderList","item","_hoisted_2","_toDisplayString","$event","_vModelCheckbox","_vModelText","_createVNode","_unref","Camera","_openBlock","_hoisted_4","index","_createBlock","CameraModal","route","useRoute","router","useRouter","vehicleStore","useVehicleStore","showSuccess","selectedVehicle","selectVehicle","vehicle","handleSubmitInspection","result","onMounted","v","SpotCheckForm","LoadingSpinner","_hoisted_3","_hoisted_5","_hoisted_6","Truck","_hoisted_7","_hoisted_8","_hoisted_9","ChevronRight"],"mappings":"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"}