{"version":3,"file":"TripManagement-DHIJlfbx.js","sources":["../../../../../../frontend/driver-pwa/src/views/TripManagement.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-6\">\n    <div class=\"flex items-center justify-between\">\n      <h1 class=\"text-2xl font-bold text-gray-900\">My Trips</h1>\n      <button \n        @click=\"refreshTrips\"\n        class=\"p-2 rounded-lg hover:bg-gray-100 transition-colors\"\n        :disabled=\"tripStore.loading\"\n      >\n        <RefreshCw :class=\"['w-5 h-5 text-gray-600', tripStore.loading && 'animate-spin']\" />\n      </button>\n    </div>\n\n    <!-- Filter Tabs -->\n    <div class=\"card p-2 flex space-x-2\">\n      <button\n        v-for=\"filter in filters\"\n        :key=\"filter.value\"\n        @click=\"activeFilter = filter.value\"\n        class=\"flex-1 py-2 px-4 rounded-lg font-medium text-sm transition-all\"\n        :class=\"activeFilter === filter.value \n          ? 'bg-primary-500 text-white shadow-sm' \n          : 'text-gray-600 hover:bg-gray-50'\"\n      >\n        {{ filter.label }}\n      </button>\n    </div>\n\n    <!-- Trip List -->\n    <LoadingSpinner v-if=\"tripStore.loading\" message=\"Loading trips...\" />\n    \n    <template v-else-if=\"filteredTrips.length > 0\">\n      <div class=\"space-y-4\">\n        <TripCard\n          v-for=\"trip in filteredTrips\"\n          :key=\"trip.name\"\n          :trip=\"trip\"\n          :show-actions=\"true\"\n          @start=\"handleStartTrip\"\n          @complete=\"handleCompleteTrip\"\n          @view=\"handleViewTrip\"\n        />\n      </div>\n    </template>\n    \n    <EmptyState\n      v-else\n      :icon=\"MapPin\"\n      title=\"No trips found\"\n      :message=\"emptyStateMessage\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { RefreshCw, MapPin } from 'lucide-vue-next'\nimport { useTripStore } from '@/stores/trip'\nimport TripCard from '@/components/trip/TripCard.vue'\nimport LoadingSpinner from '@/components/common/LoadingSpinner.vue'\nimport EmptyState from '@/components/common/EmptyState.vue'\n\nconst router = useRouter()\nconst tripStore = useTripStore()\n\nconst activeFilter = ref('upcoming')\n\nconst filters = [\n  { label: 'Upcoming', value: 'upcoming' },\n  { label: 'Active', value: 'active' },\n  { label: 'Completed', value: 'completed' }\n]\n\nconst filteredTrips = computed(() => {\n  const now = new Date()\n  \n  switch (activeFilter.value) {\n    case 'upcoming':\n      return tripStore.trips.filter(t => \n        new Date(t.start_time) > now && t.status !== 'Completed'\n      )\n    case 'active':\n      return tripStore.trips.filter(t => t.status === 'Active')\n    case 'completed':\n      return tripStore.trips.filter(t => t.status === 'Completed')\n    default:\n      return tripStore.trips\n  }\n})\n\nconst emptyStateMessage = computed(() => {\n  switch (activeFilter.value) {\n    case 'upcoming':\n      return 'You have no upcoming trips scheduled.'\n    case 'active':\n      return 'You have no active trips at the moment.'\n    case 'completed':\n      return 'You have no completed trips yet.'\n    default:\n      return 'No trips found.'\n  }\n})\n\nasync function refreshTrips() {\n  await tripStore.fetchDashboard()\n}\n\nfunction handleStartTrip(trip) {\n  router.push(`/driver/trips/${trip.name}?action=start`)\n}\n\nfunction handleCompleteTrip(trip) {\n  router.push(`/driver/trips/${trip.name}?action=complete`)\n}\n\nfunction handleViewTrip(trip) {\n  router.push(`/driver/trips/${trip.name}`)\n}\n\nonMounted(async () => {\n  await refreshTrips()\n})\n</script>"],"names":["router","useRouter","tripStore","useTripStore","activeFilter","ref","filters","filteredTrips","computed","now","t","emptyStateMessage","refreshTrips","handleStartTrip","trip","handleCompleteTrip","handleViewTrip","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","_unref","_createVNode","RefreshCw","_normalizeClass","_hoisted_4","_Fragment","_renderList","filter","$event","_toDisplayString","_hoisted_5","_createBlock","LoadingSpinner","_hoisted_6","TripCard","EmptyState","MapPin"],"mappings":"w2BA+DA,MAAMA,EAASC,EAAS,EAClBC,EAAYC,EAAY,EAExBC,EAAeC,EAAI,UAAU,EAE7BC,EAAU,CACd,CAAE,MAAO,WAAY,MAAO,UAAU,EACtC,CAAE,MAAO,SAAU,MAAO,QAAQ,EAClC,CAAE,MAAO,YAAa,MAAO,WAAW,CAC1C,EAEMC,EAAgBC,EAAS,IAAM,CACnC,MAAMC,EAAM,IAAI,KAEhB,OAAQL,EAAa,MAAK,CACxB,IAAK,WACH,OAAOF,EAAU,MAAM,OAAOQ,GAC5B,IAAI,KAAKA,EAAE,UAAU,EAAID,GAAOC,EAAE,SAAW,WACrD,EACI,IAAK,SACH,OAAOR,EAAU,MAAM,OAAOQ,GAAKA,EAAE,SAAW,QAAQ,EAC1D,IAAK,YACH,OAAOR,EAAU,MAAM,OAAOQ,GAAKA,EAAE,SAAW,WAAW,EAC7D,QACE,OAAOR,EAAU,KACvB,CACA,CAAC,EAEKS,EAAoBH,EAAS,IAAM,CACvC,OAAQJ,EAAa,MAAK,CACxB,IAAK,WACH,MAAO,wCACT,IAAK,SACH,MAAO,0CACT,IAAK,YACH,MAAO,mCACT,QACE,MAAO,iBACb,CACA,CAAC,EAED,eAAeQ,GAAe,CAC5B,MAAMV,EAAU,eAAc,CAChC,CAEA,SAASW,EAAgBC,EAAM,CAC7Bd,EAAO,KAAK,iBAAiBc,EAAK,IAAI,eAAe,CACvD,CAEA,SAASC,EAAmBD,EAAM,CAChCd,EAAO,KAAK,iBAAiBc,EAAK,IAAI,kBAAkB,CAC1D,CAEA,SAASE,EAAeF,EAAM,CAC5Bd,EAAO,KAAK,iBAAiBc,EAAK,IAAI,EAAE,CAC1C,CAEA,OAAAG,EAAU,SAAY,CACpB,MAAML,EAAY,CACpB,CAAC,UAzHCM,EAAA,EAAAC,EAkDM,MAlDNC,EAkDM,CAjDJC,EASM,MATNC,EASM,CARJC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAF,EAA0D,KAAA,CAAtD,MAAM,kCAAkC,EAAC,WAAQ,EAAA,GACrDA,EAMS,SAAA,CALN,QAAOT,EACR,MAAM,qDACL,SAAUY,EAAAtB,CAAA,EAAU,UAErBuB,EAAqFD,EAAAE,CAAA,EAAA,CAAzE,MAAKC,EAAA,CAAA,wBAA4BH,EAAAtB,CAAA,EAAU,SAAO,cAAA,CAAA,6BAKlEmB,EAYM,MAZNO,EAYM,MAXJT,EAUSU,EAAA,KAAAC,EATUxB,EAAVyB,GADTV,EAUS,SAAA,CARN,IAAKU,EAAO,MACZ,QAAKC,GAAE5B,EAAA,MAAe2B,EAAO,MAC9B,SAAM,iEACE3B,UAAiB2B,EAAO,8EAI7B,EAAAE,EAAAF,EAAO,KAAK,EAAA,GAAAG,CAAA,UAKGV,EAAAtB,CAAA,EAAU,aAAhCiC,EAAsEC,EAAA,OAA7B,QAAQ,sBAE5B7B,EAAA,MAAc,OAAM,GACvCW,IAAAC,EAUM,MAVNkB,EAUM,QATJlB,EAQEU,EAAA,KAAAC,EAPevB,EAAA,MAARO,QADTqB,EAQEG,EAAA,CANC,IAAKxB,EAAK,KACV,KAAMA,EACN,eAAc,GACd,QAAOD,EACP,WAAUE,EACV,OAAMC,oCAKbmB,EAKEI,EAAA,OAHC,KAAMf,EAAAgB,CAAA,EACP,MAAM,iBACL,QAAS7B,EAAA"}