import{s as x,r as g,g as d,i as e,y as b,k as h,j as v,z as f,A as y,t as k,B as w,C as _,f as i}from"./vue-vendor-EbW7dL4V.js";import{_ as A}from"./logo-CwAZRVRo.js";import{u as S,a as V}from"./index-h_HMwoME.js";import"./utils-CX__Uu54.js";function M(){const t=S(),{user:u,employee:c,isAuthenticated:l,userName:s,userInitials:a,roles:o,loading:m,error:n}=x(t);return{user:u,employee:c,isAuthenticated:l,userName:s,userInitials:a,roles:o,loading:m,error:n,fetchUserInfo:t.fetchUserInfo,login:t.login,hasRole:t.hasRole,hasAnyRole:t.hasAnyRole,hasPermission:t.hasPermission,logout:t.logout,clearAuth:t.clearAuth}}const R={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-gray-900 dark:to-gray-800 px-4"},T={class:"max-w-md w-full space-y-8"},B={class:"space-y-4"},C={key:0,class:"text-red-600 dark:text-red-400 text-sm text-center"},E=["disabled"],I={key:0},L={key:1,class:"flex items-center"},P={__name:"Login",setup(t){const u=_(),{login:c}=M(),l=V(),s=g({usr:"",pwd:""}),a=g(!1),o=g(null);async function m(){a.value=!0,o.value=null;try{await c(s.value.usr,s.value.pwd),l.success("Login successful"),u.push("/dashboard")}catch(n){o.value=n.message||"Invalid credentials",l.error("Login failed")}finally{a.value=!1}}return(n,r)=>(i(),d("div",R,[e("div",T,[r[5]||(r[5]=b('<div class="text-center"><div class="flex justify-center mb-4"><img src="'+A+'" alt="TEMS Logo" class="h-16 w-16"></div><h2 class="text-4xl font-bold text-emerald-600 dark:text-emerald-400 mb-2">TEMS Fleet</h2><p class="text-gray-600 dark:text-gray-400">Fleet Manager Access</p></div>',1)),e("form",{onSubmit:h(m,["prevent"]),class:"mt-8 space-y-6 bg-white dark:bg-gray-800 p-8 rounded-xl shadow-xl"},[e("div",B,[e("div",null,[r[2]||(r[2]=e("label",{for:"usr",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Username ",-1)),f(e("input",{id:"usr","onUpdate:modelValue":r[0]||(r[0]=p=>s.value.usr=p),type:"text",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 sm:text-sm",placeholder:"Enter your username"},null,512),[[y,s.value.usr]])]),e("div",null,[r[3]||(r[3]=e("label",{for:"pwd",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Password ",-1)),f(e("input",{id:"pwd","onUpdate:modelValue":r[1]||(r[1]=p=>s.value.pwd=p),type:"password",required:"",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-lg focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 sm:text-sm",placeholder:"Enter your password"},null,512),[[y,s.value.pwd]])])]),o.value?(i(),d("div",C,k(o.value),1)):v("",!0),e("button",{type:"submit",disabled:a.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[a.value?(i(),d("span",L,[...r[4]||(r[4]=[e("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),w(" Signing in... ",-1)])])):(i(),d("span",I,"Sign In"))],8,E)],32)])]))}};export{P as default};
//# sourceMappingURL=Login-CxJEaMNh.js.map
