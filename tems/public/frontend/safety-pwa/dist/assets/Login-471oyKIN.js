import{s as x,r as i,g as p,i as s,y as h,k as w,j as S,z as g,A as y,t as v,B as A,f as b}from"./vue-vendor-Dxtg618h.js";import{_}from"./logo-MG8gPAg-.js";import{u as k,a as R}from"./index-CzaUriAi.js";import"./utils-CX__Uu54.js";function E(){const t=k(),{user:u,employee:d,isAuthenticated:n,userName:a,userInitials:l,roles:o,loading:r,error:c}=x(t);return{user:u,employee:d,isAuthenticated:n,userName:a,userInitials:l,roles:o,loading:r,error:c,fetchUserInfo:t.fetchUserInfo,login:t.login,hasRole:t.hasRole,hasAnyRole:t.hasAnyRole,hasPermission:t.hasPermission,logout:t.logout,clearAuth:t.clearAuth}}const I={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100 px-4"},L={class:"max-w-md w-full"},M={class:"bg-white rounded-lg shadow-lg p-8"},T=["disabled"],U={key:0,class:"text-red-600 text-sm text-center"},j={__name:"Login",setup(t){const u=A(),{login:d}=E(),n=R(),a=i(""),l=i(""),o=i(!1),r=i(null);async function c(){o.value=!0,r.value=null;try{await d(a.value,l.value),n.success("Login successful"),u.push({name:"Dashboard"})}catch(f){r.value=f.message||"Login failed. Please check your credentials.",n.error(r.value)}finally{o.value=!1}}return(f,e)=>(b(),p("div",I,[s("div",L,[e[4]||(e[4]=h('<div class="text-center mb-8"><div class="flex justify-center mb-4"><img src="'+_+'" alt="TEMS Logo" class="h-16 w-16"></div><h1 class="text-4xl font-bold text-primary-700 mb-2">TEMS Safety</h1><p class="text-gray-600">Incident Management &amp; Safety Compliance</p></div>',1)),s("div",M,[s("form",{onSubmit:w(c,["prevent"]),class:"space-y-6"},[s("div",null,[e[2]||(e[2]=s("label",{for:"username",class:"block text-sm font-medium text-gray-700 mb-2"}," Username ",-1)),g(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=m=>a.value=m),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your username"},null,512),[[y,a.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Password ",-1)),g(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=m=>l.value=m),type:"password",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your password"},null,512),[[y,l.value]])]),s("button",{type:"submit",disabled:o.value,class:"w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-4 focus:ring-primary-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},v(o.value?"Signing in...":"Sign In"),9,T),r.value?(b(),p("div",U,v(r.value),1)):S("",!0)],32)]),e[5]||(e[5]=s("div",{class:"mt-6 text-center text-sm text-gray-600"},[s("p",null,"Safety Officer Access Only")],-1))])]))}};export{j as default};
//# sourceMappingURL=Login-471oyKIN.js.map
