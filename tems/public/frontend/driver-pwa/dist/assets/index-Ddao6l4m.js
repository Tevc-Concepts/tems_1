const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-CpCX21RF.js","assets/vue-vendor-Drzz9AVS.js","assets/utils-DGK9-2WQ.js","assets/AppLayout-n43_rp7j.js","assets/AppBottomNav-RiYsXbB_.js","assets/createLucideIcon-_YMTRyyK.js","assets/useGeolocation-D92nn38v.js","assets/incident-BTB4hAqI.js","assets/Modal--Nc8TLzj.js","assets/x-BTQ7jAj7.js","assets/Modal-B5HOa8Qv.css","assets/Toast-iY29jcEz.js","assets/info-SOydNe6P.js","assets/triangle-alert-C4Mkg0bL.js","assets/circle-x-C5bF3VpG.js","assets/Toast-7HhulXl4.css","assets/circle-alert-CoqcVHEx.js","assets/map-pin-CmG9l5GE.js","assets/user-B7IlW45Z.js","assets/AppLayout--9v9lpZr.css","assets/Dashboard-G3G3hv0v.js","assets/trip-BhkitPdW.js","assets/TripCard-D3Chmm_-.js","assets/StatusBadge-BRll2oj-.js","assets/package-De-QoVLn.js","assets/users-Dyu2Lg02.js","assets/navigation-C-73Ygfz.js","assets/truck-Dvio2Uh9.js","assets/LoadingSpinner-8TgqN-e3.js","assets/EmptyState-DMTapcdr.js","assets/credit-card-BFhocA5m.js","assets/clipboard-check-DZC-xaGE.js","assets/fuel-DyGHqSvX.js","assets/chevron-right-DK6DSZJH.js","assets/TripManagement-DGnCQyMa.js","assets/refresh-cw-D3ZSG_y3.js","assets/TripDetails-CHmEQCZp.js","assets/vehicle-Du6Nlw7r.js","assets/file-text-CZfecME9.js","assets/CargoManagement-DgGwdzzH.js","assets/scan-CGZ5W3vi.js","assets/square-pen-RyzGw0DN.js","assets/PassengerManagement-C7Mju842.js","assets/VehicleInspection-BNUdnNLs.js","assets/CameraModal-BNYXbbzZ.js","assets/IncidentReport-BZxG7EgJ.js","assets/FuelLog-B7LR_-lB.js","assets/Communication-BXHMk7oQ.js","assets/communication-DWD2staR.js","assets/Notifications-WK6kAmM2.js","assets/Notifications-BP0y8EmO.css","assets/Profile-D-LdcLWQ.js","assets/Settings-B1uuvRzs.js"])))=>i.map(i=>d[i]);
import{x as I,r as _,j as C,K as D,o as P,m as A,l as L,p as M,L as U,D as x,i as v,c as S,F as b,s as N,k as $,n as V,b as w,e as j,t as W,w as z,y as B,M as H,N as X,q as J,O as G,P as K}from"./vue-vendor-Drzz9AVS.js";import{r as Q,g as Y}from"./utils-DGK9-2WQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();const Z="modulepreload",ee=function(i){return"/assets/tems/frontend/driver-pwa/dist/"+i},F={},g=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let u=function(l){return Promise.all(l.map(c=>Promise.resolve(c).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");r=u(e.map(l=>{if(l=ee(l),l in F)return;F[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Z,c||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),c)return new Promise((d,y)=>{p.addEventListener("load",d),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var te=Q();const O=Y(te);class ne{constructor(){this.baseURL=window.location.origin,this.isOnline=navigator.onLine,this.retryAttempts=3,this.retryDelay=1e3,this.offlineStore=O.createInstance({name:"tems_offline"}),this.queueStore=O.createInstance({name:"tems_queue"}),window.addEventListener("online",()=>{this.isOnline=!0,this.syncOfflineData()}),window.addEventListener("offline",()=>{this.isOnline=!1})}async call(t,e={},n=!1,r=!0){const o=`${this.baseURL}/api/method/${t}`,s=`rpc:${t}:${JSON.stringify(e)}`;try{const a=await this.fetchWithRetry(o,{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(e)});if(!a.ok){const l=await a.json().catch(()=>({}));if(a.status===400&&(l.exc_type==="CSRFTokenError"||l.message?.includes("Invalid Request")||l.message?.includes("CSRF"))&&r)return console.warn("CSRF token error detected, refreshing token and retrying..."),await this.refreshCSRFToken(),this.call(t,e,n,!1);throw new Error(l.message||`HTTP error! status: ${a.status}`)}const u=await a.json();return n&&u.message&&await this.offlineStore.setItem(s,{data:u.message,timestamp:Date.now()}),u.message}catch(a){if(!this.isOnline)return this.handleOfflineRequest(s);throw a}}async getDoc(t,e){const n=`${this.baseURL}/api/resource/${t}/${e}`,r=`${t}:${e}`;try{const o=await this.fetchWithRetry(n,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();return await this.offlineStore.setItem(r,{data:s.data,timestamp:Date.now()}),s.data}catch(o){if(!this.isOnline){const s=await this.offlineStore.getItem(r);if(s)return s.data}throw o}}async getList(t,e=["name"],n={},r=20,o="modified desc"){const s=`${this.baseURL}/api/resource/${t}`,a=new URLSearchParams({fields:JSON.stringify(e),filters:JSON.stringify(n),limit_page_length:r,order_by:o}),u=`list:${t}:${JSON.stringify(n)}:${r}`;try{const l=await this.fetchWithRetry(`${s}?${a}`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();return await this.offlineStore.setItem(u,{data:c.data,timestamp:Date.now()}),c.data}catch(l){if(!this.isOnline){const c=await this.offlineStore.getItem(u);if(c)return c.data}throw l}}async setDoc(t,e,n){if(!this.isOnline)return this.queueOfflineWrite(t,e,n,"update");const r=`${this.baseURL}/api/resource/${t}/${e}`,o=await this.fetchWithRetry(r,{method:"PUT",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(n)});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();return await this.offlineStore.setItem(`${t}:${e}`,{data:s.data,timestamp:Date.now()}),s.data}async createDoc(t,e){if(!this.isOnline)return this.queueOfflineWrite(t,null,e,"create");const n=`${this.baseURL}/api/resource/${t}`,r=await this.fetchWithRetry(n,{method:"POST",headers:{"Content-Type":"application/json","X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to create document")}return await r.json()}async deleteDoc(t,e){if(!this.isOnline)return this.queueOfflineWrite(t,e,{},"delete");const n=`${this.baseURL}/api/resource/${t}/${e}`;if(!(await fetch(n,{method:"DELETE",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include"})).ok)throw new Error("Failed to delete document");await this.offlineStore.removeItem(`${t}:${e}`)}async uploadFile(t,e=!1,n="Home",r=null,o=null){const s=new FormData;s.append("file",t),s.append("is_private",e?1:0),s.append("folder",n),r&&s.append("doctype",r),o&&s.append("docname",o);const a=await fetch(`${this.baseURL}/api/method/upload_file`,{method:"POST",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()},credentials:"include",body:s});if(!a.ok)throw new Error("Upload failed");return(await a.json()).message}async fetchWithRetry(t,e,n=1){try{return await fetch(t,e)}catch(r){if(n<this.retryAttempts&&this.isOnline)return await this.delay(this.retryDelay*n),this.fetchWithRetry(t,e,n+1);throw r}}getCSRFToken(){const t=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(t)return t;const e=document.cookie.split("; ").find(r=>r.startsWith("csrf_token="));if(e)return e.split("=")[1];const n=localStorage.getItem("csrf_token");return n||(window.csrf_token?window.csrf_token:"")}async refreshCSRFToken(){try{const t=await fetch(`${this.baseURL}/api/method/frappe.auth.get_logged_user`,{credentials:"include"});if(t.ok){const e=t.headers.get("X-Frappe-CSRF-Token");if(e)return localStorage.setItem("csrf_token",e),e;const n=this.getCSRFToken();if(n)return localStorage.setItem("csrf_token",n),n}}catch(t){console.error("Failed to refresh CSRF token:",t)}return""}async queueOfflineWrite(t,e,n,r="update"){const o=await this.queueStore.getItem("write_queue")||[],s={id:`${Date.now()}_${Math.random()}`,doctype:t,name:e,data:n,action:r,timestamp:Date.now()};return o.push(s),await this.queueStore.setItem("write_queue",o),{queued:!0,offline:!0,queueId:s.id,message:"Saved offline. Will sync when online."}}async syncOfflineData(){const t=await this.queueStore.getItem("write_queue")||[];if(t.length===0)return{synced:0,failed:[]};const e={synced:0,failed:[]};for(const n of t)try{n.action==="create"?await this.createDoc(n.doctype,n.data):n.action==="update"?await this.setDoc(n.doctype,n.name,n.data):n.action==="delete"&&await this.deleteDoc(n.doctype,n.name),e.synced++}catch(r){console.error("Sync failed for item:",n,r),e.failed.push({item:n,error:r.message})}return e.failed.length===0?await this.queueStore.setItem("write_queue",[]):await this.queueStore.setItem("write_queue",e.failed.map(n=>n.item)),e}async getPendingQueueCount(){return(await this.queueStore.getItem("write_queue")||[]).length}async handleOfflineRequest(t){const e=await this.offlineStore.getItem(t);return e?e.data:{offline:!0,error:"No cached data available",message:"You are offline and this data is not cached"}}async clearCache(){await this.offlineStore.clear(),await this.queueStore.clear()}delay(t){return new Promise(e=>setTimeout(e,t))}async isAuthenticated(){try{const t=await fetch(`${this.baseURL}/api/method/frappe.auth.get_logged_user`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!t.ok)return!1;const e=await t.json();return e.message&&e.message!=="Guest"}catch{return!1}}async getCurrentUser(){try{const t=await fetch(`${this.baseURL}/api/method/frappe.auth.get_logged_user`,{credentials:"include",headers:{"X-Frappe-CSRF-Token":this.getCSRFToken()}});if(!t.ok)return null;const e=await t.json();return e.message!=="Guest"?e.message:null}catch{return null}}}const R=new ne,re=I("auth",()=>{const i=_(null),t=_(null),e=_([]),n=_([]),r=_(!1),o=_(null),s=C(()=>!!i.value&&i.value.name!=="Guest"),a=C(()=>t.value?.employee_name||i.value?.full_name||"User"),u=C(()=>a.value.split(" ").map(m=>m[0]).slice(0,2).join("").toUpperCase());async function l(){r.value=!0,o.value=null;try{await R.refreshCSRFToken();const h=await R.getCurrentUser();if(!h||h==="Guest")throw new Error("Not authenticated");const m=await R.getDoc("User",h);if(i.value=m,n.value=m.roles?.map(T=>T.role)||[],m.name)try{const T=await R.getList("Employee",["name","employee_name","designation","image","department","cell_number"],[["user_id","=",m.name]],1);T&&T.length>0&&(t.value=T[0])}catch(T){console.warn("Employee not found for user:",T)}return m}catch(h){throw o.value=h.message,console.error("Failed to fetch user info:",h),h}finally{r.value=!1}}function c(h){return n.value.includes(h)}function f(h){return h.some(m=>n.value.includes(m))}function p(h,m="read"){return!0}async function d(){try{await R.call("logout"),i.value=null,t.value=null,e.value=[],n.value=[],window.location.href="/login"}catch(h){console.error("Logout failed:",h),o.value=h.message}}function y(){i.value=null,t.value=null,e.value=[],n.value=[],o.value=null}return{user:i,employee:t,permissions:e,roles:n,loading:r,error:o,isAuthenticated:s,userName:a,userInitials:u,fetchUserInfo:l,hasRole:c,hasAnyRole:f,hasPermission:p,logout:d,clearAuth:y}});function oe(){const i=re(),{user:t,employee:e,isAuthenticated:n,userName:r,userInitials:o,roles:s,loading:a,error:u}=D(i);return{user:t,employee:e,isAuthenticated:n,userName:r,userInitials:o,roles:s,loading:a,error:u,fetchUserInfo:i.fetchUserInfo,hasRole:i.hasRole,hasAnyRole:i.hasAnyRole,hasPermission:i.hasPermission,logout:i.logout,clearAuth:i.clearAuth}}const se=I("offline",()=>{const i=_(navigator.onLine),t=_(!1),e=_(null),n=_(0),r=_([]),o=C(()=>t.value),s=C(()=>n.value>0),a=C(()=>{if(!e.value)return"Never";const d=Date.now()-e.value,y=Math.floor(d/6e4);if(y<1)return"Just now";if(y===1)return"1 minute ago";if(y<60)return`${y} minutes ago`;const h=Math.floor(y/60);if(h===1)return"1 hour ago";if(h<24)return`${h} hours ago`;const m=Math.floor(h/24);return m===1?"1 day ago":`${m} days ago`});function u(){window.addEventListener("online",()=>{i.value=!0,c()}),window.addEventListener("offline",()=>{i.value=!1}),l(),setInterval(()=>{i.value&&!t.value&&c()},300*1e3)}async function l(){try{n.value=await R.getPendingQueueCount()}catch(d){console.error("Failed to update queue count:",d)}}async function c(){if(!(t.value||!i.value)){t.value=!0,r.value=[];try{const d=await R.syncOfflineData();return d.synced>0&&(console.log(`Synced ${d.synced} offline changes`),e.value=Date.now()),d.failed&&d.failed.length>0&&(r.value=d.failed,console.error("Some items failed to sync:",d.failed)),await l(),d}catch(d){console.error("Sync failed:",d),r.value.push({error:d.message})}finally{t.value=!1}}}async function f(){try{await R.clearCache(),n.value=0,r.value=[],e.value=null}catch(d){throw console.error("Failed to clear offline data:",d),d}}async function p(){return c()}return{isOnline:i,syncInProgress:t,lastSyncTime:e,queueCount:n,syncErrors:r,isSyncing:o,hasPendingChanges:s,lastSyncFormatted:a,init:u,updateQueueCount:l,syncOfflineData:c,clearOfflineData:f,retryFailed:p}});function ae(i={}){const{autoInit:t=!1}=i,e=se(),{isOnline:n,syncInProgress:r,lastSyncTime:o,queueCount:s,syncErrors:a,isSyncing:u,hasPendingChanges:l,lastSyncFormatted:c}=D(e);return t&&P(()=>{e.init()}),{isOnline:n,syncInProgress:r,lastSyncTime:o,queueCount:s,syncErrors:a,isSyncing:u,hasPendingChanges:l,lastSyncFormatted:c,init:e.init,sync:e.syncOfflineData,updateQueueCount:e.updateQueueCount,clearCache:e.clearOfflineData,retryFailed:e.retryFailed}}const k=_([]);let ie=0;function ce(){const i=C(()=>k.value);function t(c,f="info",p=3e3){const d=ie++,y={id:d,message:c,type:f,visible:!0,timestamp:Date.now()};return k.value.push(y),p>0&&setTimeout(()=>{e(d)},p),d}function e(c){const f=k.value.findIndex(p=>p.id===c);f>-1&&k.value.splice(f,1)}function n(){k.value=[]}function r(c,f=3e3){return t(c,"success",f)}function o(c,f=5e3){return t(c,"error",f)}function s(c,f=4e3){return t(c,"warning",f)}function a(c,f=3e3){return t(c,"info",f)}function u(c="Loading..."){return t(c,"info",0)}async function l(c,f={}){const{loading:p="Loading...",success:d="Success!",error:y="Error occurred"}=f,h=t(p,"info",0);try{const m=await c;return e(h),r(d),m}catch(m){throw e(h),o(y+(m.message?`: ${m.message}`:"")),m}}return{toasts:i,show:t,dismiss:e,dismissAll:n,success:r,error:o,warning:s,info:a,loading:u,promise:l}}const le=(i,t)=>{const e=i.__vccOpts||i;for(const[n,r]of t)e[n]=r;return e},ue=["onClick"],de={class:"flex items-start space-x-3 p-4"},fe={class:"flex-shrink-0"},he={key:0,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},pe={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},me={key:2,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},ge={key:3,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},ye={class:"flex-1 pt-0.5"},we={class:"text-sm font-medium"},_e=["onClick"],ve={key:0,class:"h-1 bg-white bg-opacity-30 rounded-b"},Se={__name:"Toast",setup(i){const{toasts:t,dismiss:e}=ce();function n(s){const a=["rounded-lg shadow-lg max-w-sm w-full transform transition-all duration-300 cursor-pointer","hover:scale-105"],u={success:"bg-green-600 text-white",error:"bg-red-600 text-white",warning:"bg-yellow-500 text-gray-900",info:"bg-blue-600 text-white"};return[...a,u[s.type]||u.info].join(" ")}function r(s){e(s)}function o(s){const u=Date.now()-s.timestamp,l=s.duration||3e3;return Math.max(0,l-u)/l*100}return(s,a)=>(v(),A(x,{to:"body"},[L(U,{name:"toast",tag:"div",class:"fixed top-4 right-4 z-50 space-y-2 pointer-events-none"},{default:M(()=>[(v(!0),S(b,null,N($(t),u=>(v(),S("div",{key:u.id,class:V([n(u),"pointer-events-auto"]),onClick:l=>r(u.id)},[w("div",de,[w("div",fe,[u.type==="success"?(v(),S("svg",he,[...a[0]||(a[0]=[w("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):u.type==="error"?(v(),S("svg",pe,[...a[1]||(a[1]=[w("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])):u.type==="warning"?(v(),S("svg",me,[...a[2]||(a[2]=[w("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)])])):(v(),S("svg",ge,[...a[3]||(a[3]=[w("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])]))]),w("div",ye,[w("p",we,W(u.message),1)]),w("button",{type:"button",onClick:z(l=>r(u.id),["stop"]),class:"flex-shrink-0 text-current opacity-70 hover:opacity-100 transition-opacity"},[...a[4]||(a[4]=[w("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[w("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],8,_e)]),u.duration>0?(v(),S("div",ve,[w("div",{class:"h-full bg-white bg-opacity-50 rounded-b transition-all",style:B({width:o(u)+"%"})},null,4)])):j("",!0)],10,ue))),128))]),_:1})]))}},Re=le(Se,[["__scopeId","data-v-e932529d"]]),Te=[{path:"/driver/login",name:"Login",component:()=>g(()=>import("./Login-CpCX21RF.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1}},{path:"/driver",component:()=>g(()=>import("./AppLayout-n43_rp7j.js").then(i=>i.a),__vite__mapDeps([3,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19])),meta:{requiresAuth:!0},children:[{path:"",name:"Dashboard",component:()=>g(()=>import("./Dashboard-G3G3hv0v.js"),__vite__mapDeps([20,1,21,22,23,14,5,16,24,25,26,17,27,2,28,29,18,30,31,13,32,33])),meta:{title:"Dashboard",icon:"Home"}},{path:"trips",name:"TripManagement",component:()=>g(()=>import("./TripManagement-DGnCQyMa.js"),__vite__mapDeps([34,1,21,22,23,14,5,16,24,25,26,17,27,2,28,29,35])),meta:{title:"My Trips",icon:"Route"}},{path:"trips/:id",name:"TripDetails",component:()=>g(()=>import("./TripDetails-CHmEQCZp.js"),__vite__mapDeps([36,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,28,23,2,21,37,35,33,27,31,32,26,38])),meta:{title:"Trip Details"}},{path:"trips/:id/cargo",name:"CargoManagement",component:()=>g(()=>import("./CargoManagement-DgGwdzzH.js"),__vite__mapDeps([39,1,6,28,29,5,23,14,16,8,9,10,11,12,13,15,40,24,41,2])),meta:{title:"Cargo Management"}},{path:"trips/:id/passengers",name:"PassengerManagement",component:()=>g(()=>import("./PassengerManagement-C7Mju842.js"),__vite__mapDeps([42,1,28,29,5,23,14,16,8,9,10,11,12,13,15,40,25,2])),meta:{title:"Passenger Management"}},{path:"inspection",name:"VehicleInspection",component:()=>g(()=>import("./VehicleInspection-BNUdnNLs.js"),__vite__mapDeps([43,1,37,44,8,9,5,10,35,28,27,33,2])),meta:{title:"Vehicle Inspection",icon:"Clipboard"}},{path:"incident",name:"IncidentReport",component:()=>g(()=>import("./IncidentReport-BZxG7EgJ.js"),__vite__mapDeps([45,1,7,6,44,8,9,5,10,35,17,2])),meta:{title:"Report Incident",icon:"AlertTriangle"}},{path:"fuel",name:"FuelLog",component:()=>g(()=>import("./FuelLog-B7LR_-lB.js"),__vite__mapDeps([46,1,6,11,12,5,13,14,9,15,44,8,10,35,32,17,2])),meta:{title:"Log Fuel",icon:"Fuel"}},{path:"messages",name:"Communication",component:()=>g(()=>import("./Communication-BXHMk7oQ.js"),__vite__mapDeps([47,1,48,28,29,5,2])),meta:{title:"Messages",icon:"MessageCircle"}},{path:"notifications",name:"Notifications",component:()=>g(()=>import("./Notifications-WK6kAmM2.js"),__vite__mapDeps([49,48,1,28,29,5,35,38,27,25,24,13,12,2,50])),meta:{title:"Notifications",icon:"Bell"}},{path:"profile",name:"Profile",component:()=>g(()=>import("./Profile-D-LdcLWQ.js"),__vite__mapDeps([51,21,1,23,14,5,16,30,38,41,2])),meta:{title:"My Profile",icon:"User"}},{path:"settings",name:"Settings",component:()=>g(()=>import("./Settings-B1uuvRzs.js").then(i=>i.S),__vite__mapDeps([52,1,23,14,5,16,11,12,13,9,15,35,2])),meta:{title:"Settings",icon:"Settings"}}]}],q=H({history:X(),routes:Te});q.beforeEach(async(i,t,e)=>{const n=oe();if(i.meta.requiresAuth)if(n.isAuthenticated)e();else try{if(await n.fetchUserInfo(),!n.isAuthenticated){console.warn("User not authenticated, redirecting to login"),e({name:"Login",query:{redirect:i.fullPath}});return}e()}catch(r){console.error("Authentication check failed:",r),e({name:"Login",query:{redirect:i.fullPath}});return}else i.name==="Login"&&n.isAuthenticated?e("/driver"):e()});const Ce={__name:"App",setup(i){const t=ae({autoInit:!1});return P(()=>{t.init()}),(e,n)=>{const r=J("RouterView");return v(),S(b,null,[L(r),L($(Re))],64)}}},E=G(Ce),ke=K();E.use(ke);E.use(q);E.mount("#app");export{Re as T,le as _,ae as a,ce as b,re as c,se as d,g as e,R as f,oe as u};
//# sourceMappingURL=index-Ddao6l4m.js.map
