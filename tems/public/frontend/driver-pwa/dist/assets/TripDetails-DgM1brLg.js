import{p as N,o,i as F,c,d as b,m as t,a as e,h as a,t as n,T as K,r as x,H as de,n as C,e as Y,v as ue,F as P,q as B,G as J,g as O,E as me,k as I,j as pe,u as Q,A as X,l as ve,K as he}from"./vue-vendor-85nDNI24.js";import{_ as Z,c as fe,b as xe}from"./index-CvUSgFKw.js";import{f as ge,A as ye,a as _e}from"./AppBottomNav-BoIzjFWj.js";import{c as S}from"./createLucideIcon-TnRFscOj.js";import{u as be}from"./useGeolocation-M200pgtX.js";import{u as we}from"./incident-D0Jc3bXl.js";import{M as ke}from"./Modal-BTglq67a.js";import{T as $e}from"./Toast-DwVcgrDG.js";import{C as z,_ as q}from"./StatusBadge-q7HUT-w6.js";import{T as j}from"./triangle-alert-f0HtByGp.js";import{M as V}from"./map-pin-pIZ_tXSm.js";import{R as ee,C as Te,a as Ce}from"./route-ugDfWfcc.js";import{_ as Se}from"./LoadingSpinner-BQrI8T8P.js";import{f as te,p as se}from"./utils-DGK9-2WQ.js";import{u as Ae}from"./trip-C6EWYD5d.js";import{u as Me}from"./vehicle-TsAMTadY.js";import{R as Ie}from"./refresh-cw-BAKKBxtm.js";import{C as Ne}from"./chevron-right-CW-NWNE4.js";import{T as W}from"./truck-iOzUoDvC.js";import{F as De}from"./fuel-BZAyrZbw.js";import{N as Oe}from"./navigation-BNa_ULIU.js";import{F as Ve}from"./file-text-DFOq66YR.js";import"./useAuth-DE1TjW5q.js";import"./x-BTU5YQqX.js";import"./info-D1l5phir.js";import"./circle-x-RwOzPd3h.js";/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=S("ambulance",[["path",{d:"M10 10H6",key:"1bsnug"}],["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.28a1 1 0 0 0-.684-.948l-1.923-.641a1 1 0 0 1-.578-.502l-1.539-3.076A1 1 0 0 0 16.382 8H14",key:"lrkjwd"}],["path",{d:"M8 8v4",key:"1fwk8c"}],["path",{d:"M9 18h6",key:"x1upvd"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=S("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=S("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=S("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=S("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=S("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=S("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Pe={key:0,class:"fixed bottom-20 left-4 right-4 bg-amber-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 flex items-center justify-between"},Be={class:"flex items-center space-x-2"},Re={key:0,class:"bg-white text-amber-600 px-2 py-1 rounded text-xs font-bold"},Ue={__name:"OfflineIndicator",setup($){const r=fe();return(_,v)=>(o(),N(K,{name:"slide-up"},{default:F(()=>[t(r).isOnline?b("",!0):(o(),c("div",Pe,[e("div",Be,[a(t(He),{class:"w-5 h-5"}),v[0]||(v[0]=e("div",null,[e("p",{class:"font-medium text-sm"},"You're offline"),e("p",{class:"text-xs text-amber-100"},"Changes will sync when online")],-1))]),t(r).hasPendingChanges?(o(),c("div",Re,n(t(r).pendingSync)+" pending ",1)):b("",!0)]))]),_:1}))}},qe=Z(Ue,[["__scopeId","data-v-e270a2b7"]]),We=["disabled"],Ge={class:"space-y-4"},Ke={class:"p-4 bg-red-50 border border-red-200 rounded-lg"},Ye={class:"flex items-start space-x-3"},Je={key:0,class:"p-4 bg-gray-50 rounded-lg"},Qe={class:"flex items-start space-x-3"},Xe={class:"flex-1"},Ze={class:"text-xs text-gray-600 mt-1"},et={class:"text-xs text-gray-500 mt-1"},tt={key:1,class:"p-4 bg-gray-50 rounded-lg text-center"},st={key:2,class:"p-4 bg-amber-50 border border-amber-200 rounded-lg"},at={class:"flex items-start space-x-2"},ot={class:"text-xs text-amber-700 mt-1"},lt={class:"grid grid-cols-2 gap-2"},rt=["onClick"],it={class:"text-sm font-medium text-gray-900"},nt={class:"flex space-x-3 pt-4"},ct=["disabled"],dt=["disabled"],ut={key:1,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},mt={__name:"SOSButton",setup($){const{coords:r,error:_,getCurrentPosition:v}=be(),m=x(!1),u=x(!1),i=x(!1),g=x(!1),s=x(null),h=x(""),w=x("general"),A=we(),L=[{value:"medical",label:"Medical",icon:Fe},{value:"accident",label:"Accident",icon:Le},{value:"breakdown",label:"Breakdown",icon:ze},{value:"general",label:"Other",icon:z}];async function k(){m.value=!0,h.value="",w.value="general",await T()}async function T(){g.value=!0;try{const f=await v();s.value=f}catch(f){console.error("Failed to get location:",f)}finally{g.value=!1}}async function M(){await T()}function E(f){w.value=f.value,h.value||(h.value=`${f.label} emergency`)}async function H(){i.value=!0;try{const f={lat:s.value?.latitude,lng:s.value?.longitude,accuracy:s.value?.accuracy},d=`${w.value.toUpperCase()}: ${h.value||"Emergency situation"}`;await A.sendSOSAlert(f,d),m.value=!1,u.value=!0,h.value="",w.value="general",s.value=null,"vibrate"in navigator&&navigator.vibrate([200,100,200,100,200])}catch(f){console.error("Failed to send SOS:",f),alert("Failed to send SOS alert. Please try calling emergency services directly.")}finally{i.value=!1}}return de(()=>r.value,f=>{f&&!s.value&&(s.value=f)}),(f,d)=>(o(),N(me,{to:"body"},[m.value?b("",!0):(o(),c("button",{key:0,onClick:k,class:C(["fixed bottom-24 right-4 z-40 w-16 h-16 bg-red-600 hover:bg-red-700 rounded-full shadow-lg flex items-center justify-center animate-pulse active:scale-95 transition-transform",{"opacity-50":i.value}]),disabled:i.value},[a(t(z),{class:"w-8 h-8 text-white"})],10,We)),a(ke,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=p=>m.value=p),title:"Emergency SOS",size:"md","close-on-backdrop":!1},{default:F(()=>[e("div",Ge,[e("div",Ke,[e("div",Ye,[a(t(j),{class:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),d[4]||(d[4]=e("div",null,[e("p",{class:"font-semibold text-red-900"},"Emergency Alert"),e("p",{class:"text-sm text-red-700 mt-1"}," This will send an immediate alert to the operations control room with your current location. ")],-1))])]),s.value?(o(),c("div",Je,[e("div",Qe,[a(t(V),{class:"w-5 h-5 text-gray-600 flex-shrink-0 mt-0.5"}),e("div",Xe,[d[5]||(d[5]=e("p",{class:"text-sm font-medium text-gray-900"},"Current Location",-1)),e("p",Ze,n(t(ge)(s.value.latitude,s.value.longitude)),1),e("p",et," Accuracy: Â±"+n(Math.round(s.value.accuracy))+"m ",1)])])])):g.value?(o(),c("div",tt,[...d[6]||(d[6]=[e("div",{class:"inline-block w-6 h-6 border-2 border-gray-300 border-t-primary-600 rounded-full animate-spin mb-2"},null,-1),e("p",{class:"text-sm text-gray-600"},"Getting your location...",-1)])])):t(_)?(o(),c("div",st,[e("div",at,[a(t(j),{class:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e("div",null,[d[7]||(d[7]=e("p",{class:"text-sm font-medium text-amber-900"},"Location Error",-1)),e("p",ot,n(t(_)),1),e("button",{onClick:M,class:"mt-2 text-xs text-amber-700 underline"}," Try Again ")])])])):b("",!0),e("div",null,[d[8]||(d[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Additional Information (Optional) ",-1)),Y(e("textarea",{"onUpdate:modelValue":d[0]||(d[0]=p=>h.value=p),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Describe the emergency situation..."},null,512),[[ue,h.value]])]),e("div",null,[d[9]||(d[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Emergency Type ",-1)),e("div",lt,[(o(),c(P,null,B(L,p=>e("button",{key:p.value,onClick:R=>E(p),class:C(["p-3 border rounded-lg text-left hover:bg-gray-50 transition-colors",w.value===p.value?"border-red-600 bg-red-50":"border-gray-300"])},[(o(),N(J(p.icon),{class:C(["w-5 h-5 mb-1",w.value===p.value?"text-red-600":"text-gray-600"])},null,8,["class"])),e("p",it,n(p.label),1)],10,rt)),64))])]),e("div",nt,[e("button",{onClick:d[1]||(d[1]=p=>m.value=!1),class:"flex-1 btn-secondary py-3",disabled:i.value}," Cancel ",8,ct),e("button",{onClick:H,class:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center",disabled:i.value||!s.value&&!t(_)},[i.value?(o(),c("div",ut)):(o(),N(t(z),{key:0,class:"w-5 h-5 mr-2"})),O(" "+n(i.value?"Sending...":"Send SOS Alert"),1)],8,dt)])])]),_:1},8,["modelValue"]),a($e,{modelValue:u.value,"onUpdate:modelValue":d[3]||(d[3]=p=>u.value=p),type:"success",title:"SOS Alert Sent",message:"Emergency services have been notified. Help is on the way."},null,8,["modelValue"])]))}},pt={class:"min-h-screen flex flex-col bg-gray-50"},vt={class:"flex-1 pb-20 safe-bottom"},ht={class:"max-w-7xl mx-auto px-4 py-6"},ft={__name:"AppLayout",setup($){const r=Q();X();const _=xe(),v=I(()=>[{name:"Home",href:"/",icon:Ee},{name:"Trips",href:"/trips",icon:ee},{name:"Inspect",href:"/inspection",icon:Te},{name:"Incident",href:"/incident",icon:j},{name:"Profile",href:"/profile",icon:ae}]);function m(i){r.push(i.href)}function u(){_.logout(),r.push("/login")}return(i,g)=>{const s=pe("router-view");return o(),c("div",pt,[a(t(ye),{title:"Driver Portal","show-sync-status":!0,onLogout:u}),e("main",vt,[e("div",ht,[a(s,null,{default:F(({Component:h})=>[a(K,{name:"fade",mode:"out-in"},{default:F(()=>[(o(),N(J(h)))]),_:2},1024)]),_:1})])]),a(t(_e),{items:v.value,"current-route":i.$route.path,onNavigate:m},null,8,["items","current-route"]),a(mt),a(qe)])}}},xt=Z(ft,[["__scopeId","data-v-025bc4c7"]]),gt={class:"bg-white rounded-xl shadow-card p-4"},yt={class:"relative"},_t={class:"flex items-center justify-between"},bt={class:"font-medium text-gray-800"},wt={class:"text-xs text-gray-500"},kt={key:0,class:"text-sm text-gray-600 mt-1"},$t={key:1,class:"text-xs text-gray-500 mt-1 flex items-center"},Tt={__name:"TripTimeline",props:{trip:{type:Object,required:!0}},setup($){const r=$,_=I(()=>{const m=[];return r.trip.departure_time&&m.push({title:"Departure",time:v(r.trip.departure_time),location:r.trip.origin,completed:!0}),r.trip.checkpoints&&r.trip.checkpoints.forEach(u=>{m.push({title:u.name,time:u.time?v(u.time):"Pending",location:u.location,completed:u.completed})}),r.trip.arrival_time&&m.push({title:"Arrival",time:v(r.trip.arrival_time),location:r.trip.destination,completed:r.trip.status==="Completed"}),m}),v=m=>{if(!m)return"N/A";try{return te(se(m),"HH:mm")}catch{return"Invalid"}};return(m,u)=>(o(),c("div",gt,[u[1]||(u[1]=e("h2",{class:"text-lg font-bold text-gray-800 mb-4"},"Trip Timeline",-1)),e("div",yt,[u[0]||(u[0]=e("div",{class:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"},null,-1)),(o(!0),c(P,null,B(_.value,(i,g)=>(o(),c("div",{key:g,class:"relative pl-10 pb-6 last:pb-0"},[e("div",{class:C(["absolute left-2.5 w-3 h-3 rounded-full",i.completed?"bg-success-600":"bg-gray-300"])},null,2),e("div",null,[e("div",_t,[e("div",bt,n(i.title),1),e("div",wt,n(i.time),1)]),i.description?(o(),c("div",kt,n(i.description),1)):b("",!0),i.location?(o(),c("div",$t,[a(t(V),{class:"w-3 h-3 mr-1"}),O(" "+n(i.location),1)])):b("",!0)])]))),128))])]))}};function G($,r="PPp"){if(!$)return"N/A";try{return te(se($),r)}catch{return"Invalid Date"}}const Ct={class:"min-h-screen bg-gradient-to-b from-gray-50 to-white"},St={class:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm"},At={class:"flex items-center px-4 py-3"},Mt={class:"flex-1"},It={class:"text-sm text-gray-500"},Nt=["disabled"],Dt={key:0,class:"p-8 flex justify-center"},Ot={key:1,class:"p-4"},Vt={class:"bg-red-50 border border-red-200 rounded-lg p-4"},Ft={class:"text-red-800"},Lt={key:2,class:"pb-24"},jt={class:"flex items-center justify-between"},Et={class:"flex items-center space-x-3"},Ht={class:"p-2 bg-white/20 rounded-lg"},zt={class:"mx-4 mt-4 bg-white rounded-xl shadow-card p-5"},Pt={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},Bt={class:"space-y-4"},Rt={class:"flex items-start space-x-3"},Ut={class:"p-2 bg-green-100 rounded-lg"},qt={class:"flex-1"},Wt={class:"text-sm font-medium text-gray-900"},Gt={key:0,class:"text-xs text-gray-600 mt-1"},Kt={class:"flex items-start space-x-3"},Yt={class:"p-2 bg-red-100 rounded-lg"},Jt={class:"flex-1"},Qt={class:"text-sm font-medium text-gray-900"},Xt={key:0,class:"text-xs text-gray-600 mt-1"},Zt={key:0,class:"pt-3 border-t border-gray-100"},es={class:"text-sm font-medium text-gray-700"},ts={class:"mt-3 space-y-2"},ss={class:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},as={class:"text-xs font-semibold text-primary-700"},os={class:"flex-1 min-w-0"},ls={class:"text-sm font-medium text-gray-900 truncate"},rs={class:"text-xs text-gray-500"},is={class:"mx-4 mt-4 bg-white rounded-xl shadow-card p-5"},ns={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},cs={class:"space-y-4"},ds={class:"flex items-center space-x-3"},us={class:"p-3 bg-blue-50 rounded-lg"},ms={class:"flex-1"},ps={class:"text-sm font-semibold text-gray-900"},vs={class:"text-xs text-gray-600"},hs={class:"flex items-center space-x-3"},fs={class:"p-3 bg-purple-50 rounded-lg"},xs={class:"flex-1"},gs={class:"text-sm font-semibold text-gray-900"},ys={class:"mx-4 mt-4 grid grid-cols-2 gap-3"},_s={class:"flex flex-col items-center space-y-2"},bs={class:"p-3 bg-orange-100 rounded-full"},ws={class:"flex flex-col items-center space-y-2"},ks={class:"p-3 bg-green-100 rounded-full"},$s={class:"flex flex-col items-center space-y-2"},Ts={class:"p-3 bg-red-100 rounded-full"},Cs={class:"flex flex-col items-center space-y-2"},Ss={class:"p-3 bg-blue-100 rounded-full"},As={key:0,class:"mx-4 mt-4 mb-4 bg-white rounded-xl shadow-card p-5"},Ms={class:"text-sm font-semibold text-gray-900 mb-2 flex items-center"},Is={class:"text-sm text-gray-600 whitespace-pre-wrap"},aa={__name:"TripDetails",setup($){const r=Q(),_=X(),v=Ae(),m=Me(),{showSuccess:u,showError:i}=useNotification(),g=x(_.params.id),s=x(null),h=x(null),w=x(null),A=x([]),L=x([]),k=x(!1),T=x(null),M=x(!1),E=I(()=>{switch(s.value?.status?.toLowerCase()){case"active":case"in progress":return"bg-gradient-to-r from-green-500 to-green-600";case"completed":return"bg-gradient-to-r from-blue-500 to-blue-600";case"assigned":return"bg-gradient-to-r from-yellow-500 to-yellow-600";default:return"bg-gradient-to-r from-gray-500 to-gray-600"}}),H=I(()=>s.value?.status==="Assigned"),f=I(()=>s.value?.status==="Active"||s.value?.status==="In Progress"),d=I(()=>s.value?.driver||"Not Assigned"),p=async()=>{k.value=!0,T.value=null;try{const y=await v.fetchTripById(g.value);s.value=y,y.route&&(h.value=await v.fetchRouteDetails(y.route),A.value=h.value?.waypoints||[]),y.vehicle&&(w.value=await m.fetchVehicleById(y.vehicle)),L.value=await v.fetchTripEvents(g.value)}catch(y){T.value=y.message||"Failed to load trip details",i("Failed to load trip details")}finally{k.value=!1}},R=async()=>{await p(),u("Trip details refreshed")},oe=async()=>{try{k.value=!0,await v.startTrip(g.value),await p(),u("Trip started successfully")}catch(y){i(y.message||"Failed to start trip")}finally{k.value=!1}},le=async()=>{try{k.value=!0,await v.completeTrip(g.value),await p(),u("Trip completed successfully"),r.push("/trips")}catch(y){i(y.message||"Failed to complete trip")}finally{k.value=!1}},re=()=>{r.push(`/inspection?vehicle=${s.value.vehicle}&trip=${g.value}`)},ie=()=>{r.push(`/fuel?vehicle=${s.value.vehicle}&trip=${g.value}`)},ne=()=>{r.push(`/incident?trip=${g.value}&vehicle=${s.value.vehicle}`)},ce=()=>{if(h.value?.start_location&&h.value?.end_location){const y=`https://www.google.com/maps/dir/?api=1&origin=${h.value.start_location}&destination=${h.value.end_location}`;window.open(y,"_blank")}else i("Navigation data not available")};return ve(()=>{p()}),(y,l)=>(o(),N(xt,null,{default:F(()=>[e("div",Ct,[e("div",St,[e("div",At,[e("button",{onClick:l[0]||(l[0]=D=>t(r).back()),class:"mr-3 p-2 hover:bg-gray-100 rounded-full transition-colors"},[a(t(je),{class:"w-6 h-6 text-gray-700"})]),e("div",Mt,[l[2]||(l[2]=e("h1",{class:"text-lg font-semibold text-gray-900"},"Trip Details",-1)),e("p",It,n(s.value?.name),1)]),e("button",{onClick:R,disabled:k.value,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[a(t(Ie),{class:C(["w-5 h-5 text-gray-600",{"animate-spin":k.value}])},null,8,["class"])],8,Nt)])]),k.value&&!s.value?(o(),c("div",Dt,[a(Se)])):T.value?(o(),c("div",Ot,[e("div",Vt,[e("p",Ft,n(T.value),1),e("button",{onClick:p,class:"mt-2 text-red-600 font-medium"}," Try Again ")])])):s.value?(o(),c("div",Lt,[e("div",{class:C(["mx-4 mt-4 p-4 rounded-xl shadow-soft",E.value])},[e("div",jt,[e("div",Et,[e("div",Ht,[a(t(V),{class:"w-6 h-6 text-white"})]),e("div",null,[l[3]||(l[3]=e("p",{class:"text-white text-sm font-medium"},"Trip Status",-1)),a(q,{status:s.value.status,size:"lg"},null,8,["status"])])]),H.value?(o(),c("button",{key:0,onClick:oe,class:"px-4 py-2 bg-white text-green-600 rounded-lg font-medium shadow-md hover:shadow-lg transition-all"}," Start Trip ")):f.value?(o(),c("button",{key:1,onClick:le,class:"px-4 py-2 bg-white text-blue-600 rounded-lg font-medium shadow-md hover:shadow-lg transition-all"}," Complete Trip ")):b("",!0)])],2),e("div",zt,[e("h2",Pt,[a(t(ee),{class:"w-5 h-5 mr-2 text-primary-600"}),l[4]||(l[4]=O(" Route Information ",-1))]),e("div",Bt,[e("div",Rt,[e("div",Ut,[a(t(V),{class:"w-5 h-5 text-green-600"})]),e("div",qt,[l[5]||(l[5]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Origin",-1)),e("p",Wt,n(t(_)?.start_location),1),s.value.start_time?(o(),c("p",Gt,n(t(G)(s.value.start_time)),1)):b("",!0)])]),e("div",Kt,[e("div",Yt,[a(t(V),{class:"w-5 h-5 text-red-600"})]),e("div",Jt,[l[6]||(l[6]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Destination",-1)),e("p",Qt,n(t(_)?.end_location),1),s.value.end_time?(o(),c("p",Xt,n(t(G)(s.value.end_time)),1)):b("",!0)])]),A.value?.length?(o(),c("div",Zt,[e("button",{onClick:l[1]||(l[1]=D=>M.value=!M.value),class:"flex items-center justify-between w-full text-left"},[e("span",es," Waypoints ("+n(A.value.length)+") ",1),a(t(Ne),{class:C(["w-5 h-5 text-gray-400 transition-transform",{"rotate-90":M.value}])},null,8,["class"])]),Y(e("div",ts,[(o(!0),c(P,null,B(A.value,(D,U)=>(o(),c("div",{key:U,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg"},[e("div",ss,[e("span",as,n(U+1),1)]),e("div",os,[e("p",ls,n(D.stop_name),1),e("p",rs,n(D.stop_type),1)]),a(q,{status:D.completed?"Completed":"Pending",size:"sm"},null,8,["status"])]))),128))],512),[[he,M.value]])])):b("",!0)])]),e("div",is,[e("h2",ns,[a(t(W),{class:"w-5 h-5 mr-2 text-primary-600"}),l[7]||(l[7]=O(" Vehicle & Assignment ",-1))]),e("div",cs,[e("div",ds,[e("div",us,[a(t(W),{class:"w-6 h-6 text-blue-600"})]),e("div",ms,[l[8]||(l[8]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Vehicle",-1)),e("p",ps,n(w.value?.license_plate||s.value.vehicle),1),e("p",vs,n(w.value?.make)+" "+n(w.value?.model),1)])]),e("div",hs,[e("div",fs,[a(t(ae),{class:"w-6 h-6 text-purple-600"})]),e("div",xs,[l[9]||(l[9]=e("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Driver",-1)),e("p",gs,n(d.value),1)])])])]),a(Tt,{"trip-id":g.value,events:L.value,class:"mx-4 mt-4"},null,8,["trip-id","events"]),e("div",ys,[e("button",{onClick:re,class:"p-4 bg-white rounded-xl shadow-card hover:shadow-lg transition-shadow"},[e("div",_s,[e("div",bs,[a(t(Ce),{class:"w-6 h-6 text-orange-600"})]),l[10]||(l[10]=e("span",{class:"text-sm font-medium text-gray-700"},"Vehicle Check",-1))])]),e("button",{onClick:ie,class:"p-4 bg-white rounded-xl shadow-card hover:shadow-lg transition-shadow"},[e("div",ws,[e("div",ks,[a(t(De),{class:"w-6 h-6 text-green-600"})]),l[11]||(l[11]=e("span",{class:"text-sm font-medium text-gray-700"},"Log Fuel",-1))])]),e("button",{onClick:ne,class:"p-4 bg-white rounded-xl shadow-card hover:shadow-lg transition-shadow"},[e("div",$s,[e("div",Ts,[a(t(j),{class:"w-6 h-6 text-red-600"})]),l[12]||(l[12]=e("span",{class:"text-sm font-medium text-gray-700"},"Report Issue",-1))])]),e("button",{onClick:ce,class:"p-4 bg-white rounded-xl shadow-card hover:shadow-lg transition-shadow"},[e("div",Cs,[e("div",Ss,[a(t(Oe),{class:"w-6 h-6 text-blue-600"})]),l[13]||(l[13]=e("span",{class:"text-sm font-medium text-gray-700"},"Navigate",-1))])])]),s.value.notes?(o(),c("div",As,[e("h3",Ms,[a(t(Ve),{class:"w-4 h-4 mr-2 text-gray-600"}),l[14]||(l[14]=O(" Notes ",-1))]),e("p",Is,n(s.value.notes),1)])):b("",!0)])):b("",!0)])]),_:1}))}};export{aa as default};
//# sourceMappingURL=TripDetails-DgM1brLg.js.map
